version: 1

sources:
  - name: dbfantasy
    schema: public
    tables:

      ##### TEAMS ######
      - name: teams
        description: "Table with information from fantasy teams in current league"
        columns: 
          - name: index
            description: "Index generated by postgres"
          - name: "Team Name"
            description: "Name of the fantasy league team"
          - name: Owner
            description: "Name of the owner of the fantasy league team"
          - name: "Team ID"
            description: "ID of the fantasy league team"
          - name: Abbreviation
            description: "Abbreviation of the name of the fantasy league team"
          - name: "Division ID"
            description: "ID of the division played"
          - name: "Division Name"
            description: "Nam of the division played"
          - name: "Total Wins"
            description: "Total wins by the team"
          - name: "Total Losses"
            description: "Total losses by the team"
          - name: Standing
            description: "Latest standing og the team in its division"

      ##### PLAYERS STATS ######
      - name: player_stats
        description: "Table with the main stats for all players in rosters and 100 players in free agency"
        columns: 
          - name: index
            description: "Index generated by postgres"
          - name: ID
            description: "Player ID"
          - name: name
            description: "Player name"
          - name: position
            description: "Player position"
          - name: posRank
            description: "Rank of the player in fantasy league"
          - name: proTeam
            description: "PLayer's current NBA team"
          - name: status
            description: "If the player is in a roster or not"
          - name: avg_stats
            description: "Array with season average stats"
          - name: 2025_stats
            description: "Array with season average stats"
          - name: 7d_stats
            description: "Array with season 7 days average stats"
          - name: 15d_stats
            description: "Array with season 15 days average stats"
          - name: 30d_stats
            description: "Array with season 30 days average stats"
          - name: injured
            description: "If the player is injured or not"

    ##### LAST ACTIVITIES ######
      - name: last_activities
        description: "Table with the last 5 days activities in the fantasy league"
        columns: 
          - name: index
            description: "Index generated by postgres"
          - name: id
            description: "Custom ID created concating activity date and the array with the activities from the API"
          - name: processed_at
            description: "Timestamp of the activity"
          - name: team
            description: "Team that was involved in the activity"
          - name: type
            description: "Type of the activity (trade, free agent aquisition, drop, addiction)"
          - name: player_name
            description: "Player in the activity"
          - name: notes
            description: "Notes about the activity"
          
    ##### BOX SCORES ######
      - name: boxscores
        description: "Table with the box scores from the matches between fantasy league teams"
        columns: 
          - name: index
            description: "Index generated by postgres"
          - name: id
            description: "Custom ID created concating the week and the array with the boxscores from the API"
          - name: week
            description: "Week of the match"
          - name: match_header
            description: "Header of the match (who is playing against who)"
          - name: home_team
            description: "Home team Name"
          - name: home_wins
            description: "Home team attribute wins"
          - name: home_losses
            description: "Home team attribute losses"
          - name: home_ties
            description: "Home team attribute ties"
          # Home team attributes
          - name: home_pts
            description: "Home team total points"
          - name: home_pts_output
            description: "Home team total points output"
          - name: home_3pm
            description: "Home team three-pointers made"
          - name: home_3pm_output
            description: "Home team three-pointers made output"
          - name: home_stl
            description: "Home team total steals"
          - name: home_stl_output
            description: "Home team total steals output"
          - name: home_ast
            description: "Home team total assists"
          - name: home_ast_output
            description: "Home team total assists output"
          - name: home_reb
            description: "Home team total rebounds"
          - name: home_reb_output
            description: "Home team total rebounds output"
          - name: home_to
            description: "Home team total turnovers"
          - name: home_to_output
            description: "Home team total turnovers output"

          # Away team attributes
          - name: away_team
            description: "Away team Name"
          - name: away_wins
            description: "Away team attribute wins"
          - name: away_losses
            description: "Away team attribute losses"
          - name: away_ties
            description: "Away team attribute ties"
          - name: away_pts
            description: "Away team total points"
          - name: away_pts_output
            description: "Away team total points output"
          - name: away_3pm
            description: "Away team three-pointers made"
          - name: away_3pm_output
            description: "Away team three-pointers made output"
          - name: away_stl
            description: "Away team total steals"
          - name: away_stl_output
            description: "Away team total steals output"
          - name: away_ast
            description: "Away team total assists"
          - name: away_ast_output
            description: "Away team total assists output"
          - name: away_reb
            description: "Away team total rebounds"
          - name: away_reb_output
            description: "Away team total rebounds output"
          - name: away_to
            description: "Away team total turnovers"
          - name: away_to_output
            description: "Away team total turnovers output"

          - name: match_output
            description: "Final match output"